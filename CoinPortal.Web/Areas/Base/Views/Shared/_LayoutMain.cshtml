@using Devia.Sigma.Business.Auth.Interface
@using Devia.Sigma.Business.Auth.Session
@using Devia.Sigma.Business.Auth.Tenancy
@using Devia.Sigma.Business.Parameter
@using System.Configuration

<!DOCTYPE html>
<!--
Template Name: Metronic - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.3.6
Version: 4.5.4
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Like: www.facebook.com/keenthemes
Purchase: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
    <meta charset="utf-8" />
    @if (ViewBag.ScreenItem != null)
    {
        var item = ViewBag.ScreenItem as ISgAuthScreenItem;
        @SgHelpers.TitlePage(item.ItemName)
    }
    else
    {
        @SgHelpers.TitlePage("")
    }
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="" name="description" />
    <meta content="" name="author" />
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href='@(Request.IsSecureConnection ? "https" : "http")://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&amp;subset=all' rel="stylesheet" type="text/css">
    <link href="~/Theme/Metronic/assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Theme/Metronic/assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Theme/Metronic/assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Theme/Metronic/assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css" />
    <!-- END GLOBAL MANDATORY STYLES -->
    <link href="~/Theme/Metronic/assets/global/plugins/select2/css/select2.min.css" rel="stylesheet" type="text/css">
    <link href="~/Theme/Metronic/assets/global/plugins/select2/css/select2-bootstrap.min.css" rel="stylesheet" type="text/css">
    <!-- BEGIN THEME GLOBAL STYLES -->
    <link href="~/Theme/Metronic/assets/global/css/components-rounded.min.css" rel="stylesheet" id="style_components" type="text/css" />
    <link href="~/Theme/Metronic/assets/global/css/plugins.min.css" rel="stylesheet" type="text/css" />

    <!-- END THEME GLOBAL STYLES -->
    <!-- BEGIN THEME LAYOUT STYLES -->
    <link href="~/Theme/Metronic/assets/layouts/layout/css/layout.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Theme/Metronic/assets/layouts/layout/css/themes/darkblue.min.css" rel="stylesheet" type="text/css" id="style_color" />
    <link href="~/Theme/Metronic/assets/layouts/layout/css/custom.min.css" rel="stylesheet" type="text/css" />
    <!-- END THEME LAYOUT STYLES -->
    <!-- BEGIN ADDED BY mbrn-->
    <link href="~/Theme/Metronic/assets/global/plugins/bootstrap-toastr/toastr.min.css" rel="stylesheet" />

    <link href="~/Theme/Metronic/assets/global/plugins/bootstrap-select/css/bootstrap-select.min.css" rel="stylesheet" type="text/css">
    <link href="~/Theme/Metronic/assets/global/plugins/bootstrap-daterangepicker/daterangepicker.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Theme/Metronic/assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Theme/Metronic/assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Theme/Metronic/assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Theme/Metronic/assets/global/plugins/bootstrap-summernote/summernote.css" rel="stylesheet" type="text/css">
    <link href="~/Theme/Metronic/assets/global/plugins/datatables/datatables.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Theme/Metronic/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="~/Theme/Metronic/assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.css" rel="stylesheet" />
    <link href="~/Theme/Metronic/assets/global/plugins/typeahead/typeahead.css" rel="stylesheet" type="text/css" />

    <link href="~/Theme/Sigma/css/Site.css" rel="stylesheet" />
    @SgHelpers.FavIcon()
    <!-- END ADDED BY mbrn-->

    @RenderSection("pageHeader", false)
</head>
<!-- END HEAD -->
<body class="page-header-fixed page-sidebar-closed-hide-logo @{ var bodyClass = SgCmnVar.GetValue<bool>("GRAY_BACKGROUND", false) ? "page-container-bg-solid" : ""; @bodyClass }">
    <!-- BEGIN HEADER -->
    <div class="page-header navbar navbar-fixed-top">
        <!-- BEGIN HEADER INNER -->
        <div class="page-header-inner ">
            <!-- BEGIN LOGO -->
            <div class="page-logo">
                @SgHelpers.LogoPage()
                <div class="menu-toggler sidebar-toggler"><span></span> </div>
            </div>
            <!-- END LOGO -->
            <!-- BEGIN RESPONSIVE MENU TOGGLER -->
            <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse" data-target=".navbar-collapse"><span></span> </a>
            <!-- END RESPONSIVE MENU TOGGLER -->
            <!-- BEGIN TOP NAVIGATION MENU -->
            <div class="top-menu">
                <ul class="nav navbar-nav pull-right">
                    <!-- BEGIN USER LOGIN DROPDOWN -->
                    <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                    <li class="dropdown dropdown-user">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                            @if (String.IsNullOrEmpty(SgSession.Current.UserInfo.ImgPath))
                            {
                                <img alt="" class="img-circle" src="~/Theme/Sigma/img/empty_user.png" />
                            }
                            else
                            {
                                <img alt="" class="img-circle" src="/@SgSession.Current.UserInfo.ImgPath" onerror='this.src = "/Theme/Sigma/img/empty_user.png";' />
                            }

                            <span class="username username-hide-on-mobile"> @SgSession.Current.UserInfo.DisplayName </span>
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-default">
                            @SgHelpers.DropdownMenu()
                        </ul>
                    </li>
                    <!-- END USER LOGIN DROPDOWN -->
                    @if (ConfigurationManager.AppSettings["showQuickSideBar"] == "true")
                    {
                        <!-- BEGIN QUICK SIDEBAR TOGGLER -->
                        <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                        <li class="dropdown dropdown-quick-sidebar-toggler">
                            <a href="javascript:;" class="dropdown-toggle">
                                <i class="icon-logout"></i>
                            </a>
                        </li>
                        <!-- END QUICK SIDEBAR TOGGLER -->
                    }
                </ul>
            </div>
            <!-- END TOP NAVIGATION MENU -->
        </div>
        <!-- END HEADER INNER -->
    </div>
    <!-- END HEADER -->
    <!-- BEGIN HEADER & CONTENT DIVIDER -->
    <div class="clearfix"> </div>
    <!-- END HEADER & CONTENT DIVIDER -->
    <!-- BEGIN CONTAINER -->
    <div class="page-container">
        <!-- BEGIN SIDEBAR -->
        <div class="page-sidebar-wrapper">
            <div class="page-sidebar navbar-collapse collapse">
                <ul class="page-sidebar-menu  page-header-fixed" data-keep-expanded="false" data-auto-scroll="true" data-slide-speed="200" style="padding-top: 20px">
                    <li class="sidebar-toggler-wrapper hide">
                        <div class="sidebar-toggler">
                        </div>
                    </li>
                    @{
                        var tntLst = SgSession.Current.UserTenantList;
                        if (tntLst.Count > 1)
                        {
                            <li class="sidebar-search-wrapper">
                                <!-- BEGIN RESPONSIVE QUICK SEARCH FORM -->
                                <!-- DOC: Apply "sidebar-search-bordered" class the below search form to have bordered search box -->
                                <!-- DOC: Apply "sidebar-search-bordered sidebar-search-solid" class the below search form to have bordered & solid search box -->
                                <form class="sidebar-search" style="margin: 0px 8px;">
                                    <div class="row">
                                        <div class="input-group col-md-10 col-md-offset-1" style="border-bottom-color:#b4bcc8;">
                                            <select id="layoutTntId" name="layoutTntId" class="form-control" style="color:#b4bcc8; ">
                                                @foreach (var tnt in tntLst)
                                                {
                                                    if (SgSession.Current.Tenant.TntId == tnt.TntId)
                                                    {
                                                        <option value="@tnt.TntId" selected>@tnt.TntName</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="@tnt.TntId">@tnt.TntName</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </form>
                                <!-- END RESPONSIVE QUICK SEARCH FORM -->
                            </li>
                        }
                    }

                    <li class="heading"></li>
                    @Html.SigmaMetronic().NavBar(Request.Url.AbsoluteUri)

                </ul>
            </div>
        </div>
        <!-- END SIDEBAR -->
        <!-- BEGIN CONTENT -->
        <div class="page-content-wrapper">
            <!-- BEGIN CONTENT BODY -->
            <div class="page-content">
                <!-- BEGIN PAGE HEADER-->
                <!-- BEGIN PAGE BAR -->
                @if ((ViewBag.ScreenItem != null && (ViewBag.ScreenItem as ISgAuthScreenItem).ShowHeader) || IsSectionDefined("pageToolbar"))
                {
                    <div class="page-bar">
                        <ul class="page-breadcrumb">
                            <li>
                                @if (ViewBag.ScreenItem != null && (ViewBag.ScreenItem as ISgAuthScreenItem).ShowHeader)
                                {
                                    var item = ViewBag.ScreenItem as ISgAuthScreenItem;

                                    if (String.IsNullOrEmpty(item.ItemIconContent) == false)
                                    {
                                        <i class="@item.ItemIconContent"></i>
                                    }

                                    <span>@item.ItemName</span>
                                }
                            </li>
                        </ul>
                        @RenderSection("pageToolbar", false)
                    </div>
                }
                <!-- END PAGE BAR -->
                <!-- END PAGE HEADER-->

                <h3 class="page-title">
                    @*FAQ
                        <small>general faq page</small>*@
                </h3>
                <!-- BEGIN PAGE CONTENT-->
                @RenderBody()
                <!-- END PAGE CONTENT-->
            </div>
            <!-- END CONTENT BODY -->
        </div>
        <!-- END CONTENT -->
        @if (ConfigurationManager.AppSettings["showQuickSideBar"] == "true")
        {
            <!-- BEGIN QUICK SIDEBAR -->
            @*<a href="javascript:;" class="page-quick-sidebar-toggler">
                <i class="icon-login"></i>
            </a>*@            
            <!-- END QUICK SIDEBAR -->
        }
    </div>
    <!-- END CONTAINER -->
    <!-- BEGIN FOOTER -->
    <div class="page-footer">
        <div class="page-footer-inner">
            2015 &copy; <a href="http://www.deviatech.com.tr" target="_blank">DeviaTech</a>
        </div>
        <div class="scroll-to-top">
            <i class="icon-arrow-up"></i>
        </div>
    </div>
    <!-- END FOOTER -->
    <!--[if lt IE 9]>
    <![endif]-->
    <!-- BEGIN CORE PLUGINS -->
    <script src="~/Theme/Metronic/assets/global/plugins/jquery.min.js" type="text/javascript"></script>
    <!-- IMPORTANT! Load jquery-ui.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/jquery-ui/jquery-ui.min.js"></script>
    <script src="~/Theme/Metronic/assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="~/Theme/Metronic/assets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
    <script src="~/Theme/Metronic/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
    <script src="~/Theme/Metronic/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
    <script src="~/Theme/Metronic/assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
    <script src="~/Theme/Metronic/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
    <!-- END CORE PLUGINS -->
    <!-- BEGIN THEME GLOBAL SCRIPTS -->
    <script src="~/Theme/Metronic/assets/global/scripts/app.min.js" type="text/javascript"></script>
    <!-- END THEME GLOBAL SCRIPTS -->
    <!-- BEGIN THEME LAYOUT SCRIPTS -->
    <script src="~/Theme/Metronic/assets/layouts/layout/scripts/layout.min.js" type="text/javascript"></script>
    @if (ConfigurationManager.AppSettings["showQuickSideBar"] == "true")
    {
        <script src="~/Theme/Metronic/assets/layouts/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
    }
    <!-- END THEME LAYOUT SCRIPTS -->
    <!-- BEGIN ADDED BY mbrn-->
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/fullcalendar/lib/moment.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/bootstrap-toastr/toastr.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.tr.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/bootstrap-daterangepicker/daterangepicker.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/jquery-inputmask/jquery.inputmask.bundle.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/datatables/datatables.all.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/fullcalendar/fullcalendar.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/fullcalendar/lang/tr.js"></script>

    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/bootstrap-select/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/select2/js/select2.full.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/jquery-multi-select/js/jquery.multi-select.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/jquery-validation/js/jquery.validate.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/jquery-validation/js/additional-methods.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/bootstrap-summernote/summernote.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/bootbox/bootbox.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/typeahead/handlebars.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/typeahead/typeahead.bundle.min.js"></script>
    <script type="text/javascript" src="~/Theme/Metronic/assets/global/plugins/jquery.pulsate.min.js"></script>
    <script type="text/javascript" src="~/Theme/Sigma/scripts/Devia.Sigma.Util.js"></script>
    <script type="text/javascript" src="~/Theme/Sigma/scripts/SgPluginLoader.js"></script>
    <script type="text/javascript" src="~/Theme/Sigma/scripts/SgMultiLang.js"></script>
    <script type="text/javascript" src="~/Theme/Sigma/scripts/SgRichTextBox.js"></script>
    <script>
        jQuery(document).ready(function () {
            Sigma.init();
        });
    </script>

    @{
        if (tntLst.Count > 1)
        {
            <script>
                jQuery(document).ready(function () {
                    $("li.sidebar-search-wrapper select#layoutTntId").change(function () {
                        var tntId = $(this).val();
                        Sigma.ajax({
                            url: "../../Base/FrmTntAutUsr/ChangeTenant",
                            data: { tntId : tntId },
                            onSuccess: function () {
                                location.reload();
                            },
                            showSuccessToast: false,
                            showErrorToast: true
                        });
                    });
                });
            </script>
        }
    }

    @RenderSection("pageScript", false)

    <!-- END ADDED BY mbrn-->
</body>
</html>